{"mappings":"iiBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,0BCGO,SAASE,EAAsBC,GACpC,IAAIC,EAAW,IAAIC,EAAAC,GAAJ,CACbC,SAASC,eAAe,4BACxBL,GAGFC,EAASK,iBAETL,EAASM,GAAG,aAAaC,IACvBC,EAAYD,EAAUE,KAAK,G,CDR/B,MAAMC,EAAcP,SAASQ,cAAc,cACrCC,EAAgBT,SAASQ,cAAc,gBAEvCE,EAAmB,IAAI,EAAAhB,EAAAiB,SAE7BJ,EAAYK,iBAAiB,SAM7B,WACEF,EAAiBG,UAAU,cAC3BJ,EAAcK,UAAUC,OAAO,4BAC/BR,EAAYO,UAAUE,IAAI,4BAC1BC,G,IATFR,EAAcG,iBAAiB,QAASM,GAExC,IACIC,EADAC,EAAW,GAUf,SAASF,IACPR,EAAiBG,UAAU,gBAC3BN,EAAYO,UAAUC,OAAO,4BAC7BN,EAAcK,UAAUE,IAAI,4BAC5BC,G,CAGF,SAASA,IACPG,EAAWV,EAAiBW,WAC5BF,EAAQ,CACNG,YAAa,EACbC,aAAc,EACdC,WAAYJ,GAAUK,QAExB9B,EAAsBwB,GACtBd,EAAY,E,CAGC,SAAAA,EAAqBC,GAClCoB,EAAAC,KAAKC,UAAUC,UAAY,GAC3BV,EAAMG,YAAchB,EACpB,MAAMwB,EAAWV,GACbW,OACCZ,EAAMG,YAAc,GAAKH,EAAMI,aAChCJ,EAAMG,YAAcH,EAAMI,cAE3BS,KAAIC,GACI,mCAAmCA,EAAKC,sFACqBD,EAAKE,sEAC3BF,EAAKG,6BAA6BH,EAAKG,qBAAqBH,EAAKI,8IAG/FJ,EAAKI,2CACIJ,EAAKK,WAAWL,EAAKM,oEAI/CC,KAAK,IACRd,EAAAC,KAAKC,UAAUa,mBAAmB,YAAaX,E,CAGjDY,YAAW,IAAMxB,KAAqB,G","sources":["src/library.js","src/JavaScript/renderFromLocalStorage.js","src/JavaScript/library-pagination.js"],"sourcesContent":["import './JavaScript/localStorageUtil';\r\nimport './JavaScript/renderFromLocalStorage';\r\nimport './JavaScript/library-pagination';\r\nimport './JavaScript/createMarkUp';\r\n// import './JavaScript/renderWatched';\r\nimport './JavaScript/openModalMovie';\r\n\r\nimport './JavaScript/render_footer_modal';\r\nimport './JavaScript/modal_footer';\r\nimport './JavaScript/slider_glide';\r\nimport './JavaScript/users';\r\n","import LocalStorageUtil from './localStorageUtil';\nimport { refs } from './refs';\nimport { initLibraryPagination } from './library-pagination';\n\nconst queueBtnLib = document.querySelector('#queue-btn');\nconst watchedBtnLib = document.querySelector('#watched-btn');\n\nconst localStorageUtil = new LocalStorageUtil();\n\nqueueBtnLib.addEventListener('click', onQueueBtnClick);\nwatchedBtnLib.addEventListener('click', onWatchedBtnClick);\n\nlet filmData = [];\nlet pager;\n\nfunction onQueueBtnClick() {\n  localStorageUtil.changeKey('QueueFilms');\n  watchedBtnLib.classList.remove('button__library--current');\n  queueBtnLib.classList.add('button__library--current');\n  initCategoryData();\n}\n\nfunction onWatchedBtnClick() {\n  localStorageUtil.changeKey('WatchedFilms');\n  queueBtnLib.classList.remove('button__library--current');\n  watchedBtnLib.classList.add('button__library--current');\n  initCategoryData();\n}\n\nfunction initCategoryData() {\n  filmData = localStorageUtil.getFilms();\n  pager = {\n    currentPage: 1,\n    itemsPerPage: 9,\n    totalItems: filmData?.length,\n  };\n  initLibraryPagination(pager);\n  renderCards(1);\n}\n\nexport default function renderCards(page) {\n  refs.filmoteka.innerHTML = '';\n  pager.currentPage = page;\n  const filmList = filmData\n    ?.slice(\n      (pager.currentPage - 1) * pager.itemsPerPage,\n      pager.currentPage * pager.itemsPerPage\n    )\n    .map(item => {\n      return `<li class=\"photo-card\" data-id=\"${item.filmId}\"}>\n      <a class=\"photo-card__link\"  href=\"https://image.tmdb.org/t/p/w500${item.backdrop_path}\">\n        <img  src=\"https://image.tmdb.org/t/p/w500${item.poster_path}\" data-source=\"${item.poster_path}\" alt=\"${item.title}\" loading=\"lazy\" width=\"100%\" height=\"90%\" style=\"border-radius: 5px;\"/>\n      </a>  \n      <div class=\"info\">\n        <p class=\"\">${item.title}</p>\n        <p class=\"info-item\">${item.genre} | ${item.release_date}</p>           \n      </div>          \n    </li> `;\n    })\n    .join('');\n  refs.filmoteka.insertAdjacentHTML('beforeend', filmList);\n}\n\nsetTimeout(() => onWatchedBtnClick(), 0);\n","import renderCards from '../JavaScript/renderFromLocalStorage';\nimport Pagination from 'tui-pagination';\n\nexport function initLibraryPagination(paginatorSettings) {\n  let instance = new Pagination(\n    document.getElementById('tui-pagination-container'),\n    paginatorSettings\n  );\n\n  instance.getCurrentPage();\n\n  instance.on('afterMove', eventData => {\n    renderCards(eventData.page);\n  });\n}\n"],"names":["parcelRequire","$dsFN9","$f96a79ac81857381$export$5a9aff2cf2231fc2","paginatorSettings","instance","$parcel$interopDefault","$1VFfL","document","getElementById","getCurrentPage","on","eventData","$3e7a16931cf9cd94$export$2e2bcd8739ae039","page","$3e7a16931cf9cd94$var$queueBtnLib","querySelector","$3e7a16931cf9cd94$var$watchedBtnLib","$3e7a16931cf9cd94$var$localStorageUtil","default","addEventListener","changeKey","classList","remove","add","$3e7a16931cf9cd94$var$initCategoryData","$3e7a16931cf9cd94$var$onWatchedBtnClick","$3e7a16931cf9cd94$var$pager","$3e7a16931cf9cd94$var$filmData","getFilms","currentPage","itemsPerPage","totalItems","length","$leAp0","refs","filmoteka","innerHTML","filmList","slice","map","item","filmId","backdrop_path","poster_path","title","genre","release_date","join","insertAdjacentHTML","setTimeout"],"version":3,"file":"library.ae331d16.js.map"}